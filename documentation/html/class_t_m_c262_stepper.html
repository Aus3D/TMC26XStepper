<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>TMC26X Stepper Driver for Arduino: TMC262Stepper Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">TMC26X Stepper Driver for Arduino
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">TMC262Stepper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="TMC262Stepper" -->
<p>Class representing a TMC262 stepper driver.  
 <a href="class_t_m_c262_stepper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_t_m_c262_stepper_8h_source.html">TMC262Stepper.h</a>&gt;</code></p>

<p><a href="class_t_m_c262_stepper-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a1dd52ae6c864c8d4057af287f9e57f7a">TMC262Stepper</a> (int number_of_steps, int cs_pin, int dir_pin, int step_pin, unsigned int rms_current)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">creates a new represenatation of a stepper motor connected to a TMC262 stepper driver  <a href="#a1dd52ae6c864c8d4057af287f9e57f7a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a3ed2f641b0ce1abd2e0704a0e6078386">start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">configures and starts the TMC262 stepper driver. Before you called this function the stepper driver is in nonfunctional mode.  <a href="#a3ed2f641b0ce1abd2e0704a0e6078386"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a4ee30d0fddcfcd2de542837861c46d4a">setSpeed</a> (long whatSpeed)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the rotation speed in revolutions per minute.  <a href="#a4ee30d0fddcfcd2de542837861c46d4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#ac1d294ce18d722c3b4c3f6c5ecaa3c7c">setMicrosteps</a> (int number_of_steps)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of microsteps in 2^i values (rounded) up to 256.  <a href="#ac1d294ce18d722c3b4c3f6c5ecaa3c7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a96a370ce2e5d055a19cf4bf57ad2ea45">getMicrosteps</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the effective current number of microsteps selected.  <a href="#a96a370ce2e5d055a19cf4bf57ad2ea45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a37dff68892cdc4c3d33d2a89da84b717">step</a> (int number_of_steps)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate a movement for the given number of steps. Positive numbers move in one, negative numbers in the other direction.  <a href="#a37dff68892cdc4c3d33d2a89da84b717"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a552c0e80a6e113ae1a09a1d00b985788">move</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Central movement method, must be calleda s often as possible in the lopp function and is very fast.  <a href="#a552c0e80a6e113ae1a09a1d00b985788"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a34e0adcdc4dbf6613dc7d2ed41fc654b">isMoving</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if the motor still has to move to fulfill the last movement command.  <a href="#a34e0adcdc4dbf6613dc7d2ed41fc654b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#ae96c33de0cca9700f8abe44a7c618519">getStepsLeft</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of steps left in the current movement.  <a href="#ae96c33de0cca9700f8abe44a7c618519"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a1c0498cd73fc3a798a230dc8cefa04dd">stop</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the motor regardless if it moves or not.  <a href="#a1c0498cd73fc3a798a230dc8cefa04dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#adffec7e10088a1aa5b7ab7b1c942d57f">setConstantOffTimeChopper</a> (char constant_off_time, char blank_time, char fast_decay_time_setting, char sine_wave_offset, unsigned char use_current_comparator)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets and configure the classical Constant Off Timer Chopper.  <a href="#adffec7e10088a1aa5b7ab7b1c942d57f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a109f08f1786742beb7002220c7e2101b">setSpreadCycleChopper</a> (char constant_off_time, char blank_time, char hysteresis_start, char hysteresis_end, char hysteresis_decrement)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets and configures with spread cycle chopper.  <a href="#a109f08f1786742beb7002220c7e2101b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a3528268d956f800eaaa78e5f053af2ca">setRandomOffTime</a> (char value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Use random off time for noise reduction (0 for off, -1 for on).  <a href="#a3528268d956f800eaaa78e5f053af2ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#ab8f4c5c7d4d40ba2b60573f17162dcc0">setCurrent</a> (unsigned int current)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">set the maximum motor current in mA  <a href="#ab8f4c5c7d4d40ba2b60573f17162dcc0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a17f960c4177a5e3ec496eb12370f6e3e">setStallGuardTreshold</a> (int stall_guard_treshold, char stall_guard_filter_enabled)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">set the Stall Guard treshold in order to get sensible Stall Guard readings.  <a href="#a17f960c4177a5e3ec496eb12370f6e3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704">getMotorPosition</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current microstep position for phase A.  <a href="#a6957b84f7a3941e2a82fe72251dd9704"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b">getCurrentStallGuardReading</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the current stall guard value.  <a href="#a7871e8851d90acaac372a90354508a2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a7c43cd156a36f53d192e1b07df3464c8">isStallGuardOverTreshold</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if there is a Stall Guard warning in the last status  <a href="#a7c43cd156a36f53d192e1b07df3464c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#aa1ce5674925585ce6206b9a82548de8d">getOverTemperature</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return over temperature status of the last status readout return 0 is everything is OK, TMC_262_OVER_TEMPERATURE_PREWARING if status is reached, TMC_262_OVER_TEMPERATURE_SHUTDOWN is the chip is shutdown, -1 if the status is unknown. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout.  <a href="#aa1ce5674925585ce6206b9a82548de8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a30f48c95d93fbfeacde56e3eef0b3ac4">isShortToGroundA</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is motor channel A shorted to ground detected in the last status readout.  <a href="#a30f48c95d93fbfeacde56e3eef0b3ac4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a61e724b8aeb4d6f1cb9c15b7b098e2b2">isShortToGroundB</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is motor channel B shorted to ground detected in the last status readout.  <a href="#a61e724b8aeb4d6f1cb9c15b7b098e2b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#ad017c64b0bbb4f2dbad4d255c4533f4c">isOpenLoadA</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">iIs motor channel A connected according to the last statu readout.  <a href="#ad017c64b0bbb4f2dbad4d255c4533f4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a9e01335ffedd8bdaa47f61d53045bbbd">isOpenLoadB</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">iIs motor channel A connected according to the last statu readout.  <a href="#a9e01335ffedd8bdaa47f61d53045bbbd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a566f37aee32e83423db0bdddc007ca94">isStandStill</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is chopper inactive since 2^20 clock cycles - defaults to ~0,08s.  <a href="#a566f37aee32e83423db0bdddc007ca94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a2e520834597aa78af6224e2bc7f89387">isStallGuardReached</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if there is a Stall Guard warning in the last status  <a href="#a2e520834597aa78af6224e2bc7f89387"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a467fb62d852c2a6b5b2d94e877f843fc">debugLastStatus</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints out all the inforamtion that can be found in the last status read out - it does not force a status readout. The result is printed via Serial.  <a href="#a467fb62d852c2a6b5b2d94e877f843fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_m_c262_stepper.html#a0514e8d8143463a8b5afca76b419a52d">version</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">library version  <a href="#a0514e8d8143463a8b5afca76b419a52d"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Class representing a TMC262 stepper driver. </p>
<p>In order to use one fo those drivers in your Arduino code you have to create an object of that class: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="class_t_m_c262_stepper.html" title="Class representing a TMC262 stepper driver.">TMC262Stepper</a> stepper = <a class="code" href="class_t_m_c262_stepper.html#a1dd52ae6c864c8d4057af287f9e57f7a" title="creates a new represenatation of a stepper motor connected to a TMC262 stepper driver">TMC262Stepper</a>(200,1,2,3,500);
</pre></div><p> see <a class="el" href="class_t_m_c262_stepper.html#a1dd52ae6c864c8d4057af287f9e57f7a" title="creates a new represenatation of a stepper motor connected to a TMC262 stepper driver">TMC262Stepper(int number_of_steps, int cs_pin, int dir_pin, int step_pin, unsigned int rms_current)</a></p>
<p>Keep in mind that you need to start the driver with <a class="el" href="class_t_m_c262_stepper.html#a3ed2f641b0ce1abd2e0704a0e6078386" title="configures and starts the TMC262 stepper driver. Before you called this function the stepper driver i...">start()</a> in order to get the TMC262 configured.</p>
<p>The most important function is the <a class="el" href="class_t_m_c262_stepper.html#a552c0e80a6e113ae1a09a1d00b985788" title="Central movement method, must be calleda s often as possible in the lopp function and is very fast...">move()</a>. It checks if the motor has to do a step or not. It is important that you call <a class="el" href="class_t_m_c262_stepper.html#a552c0e80a6e113ae1a09a1d00b985788" title="Central movement method, must be calleda s often as possible in the lopp function and is very fast...">move()</a> as often as possible in your Arduino loop() routine. I suggest to use a very fast loop routine and always call it at the beginning or the end.</p>
<p>In order to move you have to provide a movement speed with <a class="el" href="class_t_m_c262_stepper.html#a4ee30d0fddcfcd2de542837861c46d4a" title="Sets the rotation speed in revolutions per minute.">setSpeed()</a>. The speed is a positive value setting the rotations per minute.</p>
<p>To really move the motor you have to call <a class="el" href="class_t_m_c262_stepper.html#a37dff68892cdc4c3d33d2a89da84b717" title="Initiate a movement for the given number of steps. Positive numbers move in one, negative numbers in ...">step()</a> to tell the driver to move the motor the given number of steps in the given direction. Positive values move the motor in one direction, negative values in the other direction.</p>
<p>You can check with <a class="el" href="class_t_m_c262_stepper.html#a34e0adcdc4dbf6613dc7d2ed41fc654b" title="checks if the motor still has to move to fulfill the last movement command.">isMoving()</a> if the mototr is still moving or stop it apruptely with <a class="el" href="class_t_m_c262_stepper.html#a1c0498cd73fc3a798a230dc8cefa04dd" title="Stops the motor regardless if it moves or not.">stop()</a>. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8h_source.html#l00078">78</a> of file <a class="el" href="_t_m_c262_stepper_8h_source.html">TMC262Stepper.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1dd52ae6c864c8d4057af287f9e57f7a"></a><!-- doxytag: member="TMC262Stepper::TMC262Stepper" ref="a1dd52ae6c864c8d4057af287f9e57f7a" args="(int number_of_steps, int cs_pin, int dir_pin, int step_pin, unsigned int rms_current)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_m_c262_stepper.html#a1dd52ae6c864c8d4057af287f9e57f7a">TMC262Stepper::TMC262Stepper</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number_of_steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cs_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>step_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>rms_current</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>creates a new represenatation of a stepper motor connected to a TMC262 stepper driver </p>
<p>This is the main constructor. If in doubt use this. You must provide all parameters as described below.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">number_of_steps</td><td>the number of steps the motor has per rotation. </td></tr>
    <tr><td class="paramname">cs_pin</td><td>The Arduino pin you have connected the Cient Select Pin (!CS) of the TMC262 for SPI </td></tr>
    <tr><td class="paramname">dir_pin</td><td>the number of the Arduino pin the Direction input of the TMC262 is connected </td></tr>
    <tr><td class="paramname">step_pin</td><td>the number of the Arduino pin the step pin of the TMC262 driver is connected. </td></tr>
    <tr><td class="paramname">rms_current</td><td>the maximum RMS current to privide to the motor in mA (!). A vlaue of 200 would send up to 200mA to the motor TODO doens't it make send to also use the enable pin</td></tr>
  </table>
  </dd>
</dl>
<p>Keep in mind that you must also call <a class="el" href="class_t_m_c262_stepper.html#a3ed2f641b0ce1abd2e0704a0e6078386" title="configures and starts the TMC262 stepper driver. Before you called this function the stepper driver i...">TMC262Stepper.start()</a> in order to configure the stepper driver for use.</p>
<p>By default the Constant Off Time chopper is used, see TCM262Stepper.setConstantOffTimeChopper() for details. This should work on most motors (YMMV). You may want to configure and use the Spread Cycle Chopper, see <a class="el" href="class_t_m_c262_stepper.html#a109f08f1786742beb7002220c7e2101b" title="Sets and configures with spread cycle chopper.">setSpreadCycleChopper()</a>.</p>
<p>By default a microstepping of 1/32th is used to provide a smooth motor run, while still giving a good progression per step. You can select a different stepping with <a class="el" href="class_t_m_c262_stepper.html#ac1d294ce18d722c3b4c3f6c5ecaa3c7c" title="Set the number of microsteps in 2^i values (rounded) up to 256.">setMicrosteps()</a> to aa different value. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00110">110</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a467fb62d852c2a6b5b2d94e877f843fc"></a><!-- doxytag: member="TMC262Stepper::debugLastStatus" ref="a467fb62d852c2a6b5b2d94e877f843fc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#a467fb62d852c2a6b5b2d94e877f843fc">TMC262Stepper::debugLastStatus</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints out all the inforamtion that can be found in the last status read out - it does not force a status readout. The result is printed via Serial. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00688">688</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7871e8851d90acaac372a90354508a2b"></a><!-- doxytag: member="TMC262Stepper::getCurrentStallGuardReading" ref="a7871e8851d90acaac372a90354508a2b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b">TMC262Stepper::getCurrentStallGuardReading</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads the current stall guard value. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current Stall guard value, lesser values indicate higher load, 0 means stall detected. Keep in mind that this routine reads and writes a value via SPI - so this may take a bit time. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_m_c262_stepper.html#a17f960c4177a5e3ec496eb12370f6e3e" title="set the Stall Guard treshold in order to get sensible Stall Guard readings.">setStallGuardTreshold()</a> for tuning the readout to sensible ranges. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00586">586</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a96a370ce2e5d055a19cf4bf57ad2ea45"></a><!-- doxytag: member="TMC262Stepper::getMicrosteps" ref="a96a370ce2e5d055a19cf4bf57ad2ea45" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_t_m_c262_stepper.html#a96a370ce2e5d055a19cf4bf57ad2ea45">TMC262Stepper::getMicrosteps</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns the effective current number of microsteps selected. </p>
<p>This function always returns the effective number of microsteps. This can be a bit different than the micro steps set in <a class="el" href="class_t_m_c262_stepper.html#ac1d294ce18d722c3b4c3f6c5ecaa3c7c" title="Set the number of microsteps in 2^i values (rounded) up to 256.">setMicrosteps()</a> since it is rounded to 2^i.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_m_c262_stepper.html#ac1d294ce18d722c3b4c3f6c5ecaa3c7c" title="Set the number of microsteps in 2^i values (rounded) up to 256.">setMicrosteps()</a> </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00374">374</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6957b84f7a3941e2a82fe72251dd9704"></a><!-- doxytag: member="TMC262Stepper::getMotorPosition" ref="a6957b84f7a3941e2a82fe72251dd9704" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704">TMC262Stepper::getMotorPosition</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current microstep position for phase A. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current microstep position for phase A 0…255</dd></dl>
<p>Keep in mind that this routine reads and writes a value via SPI - so this may take a bit time. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00578">578</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa1ce5674925585ce6206b9a82548de8d"></a><!-- doxytag: member="TMC262Stepper::getOverTemperature" ref="aa1ce5674925585ce6206b9a82548de8d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="class_t_m_c262_stepper.html#aa1ce5674925585ce6206b9a82548de8d">TMC262Stepper::getOverTemperature</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return over temperature status of the last status readout return 0 is everything is OK, TMC_262_OVER_TEMPERATURE_PREWARING if status is reached, TMC_262_OVER_TEMPERATURE_SHUTDOWN is the chip is shutdown, -1 if the status is unknown. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00613">613</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae96c33de0cca9700f8abe44a7c618519"></a><!-- doxytag: member="TMC262Stepper::getStepsLeft" ref="ae96c33de0cca9700f8abe44a7c618519" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_t_m_c262_stepper.html#ae96c33de0cca9700f8abe44a7c618519">TMC262Stepper::getStepsLeft</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the number of steps left in the current movement. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of steps left in the movement. This number is always positive.</dd></dl>
<p>TODO isn't an unsigend int more obvious? </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00244">244</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a34e0adcdc4dbf6613dc7d2ed41fc654b"></a><!-- doxytag: member="TMC262Stepper::isMoving" ref="a34e0adcdc4dbf6613dc7d2ed41fc654b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="class_t_m_c262_stepper.html#a34e0adcdc4dbf6613dc7d2ed41fc654b">TMC262Stepper::isMoving</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>checks if the motor still has to move to fulfill the last movement command. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the motor stops, -1 if the motor is moving.</dd></dl>
<p>This method can be used to determine if the motor is ready for new movements. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00240">240</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad017c64b0bbb4f2dbad4d255c4533f4c"></a><!-- doxytag: member="TMC262Stepper::isOpenLoadA" ref="ad017c64b0bbb4f2dbad4d255c4533f4c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="class_t_m_c262_stepper.html#ad017c64b0bbb4f2dbad4d255c4533f4c">TMC262Stepper::isOpenLoadA</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>iIs motor channel A connected according to the last statu readout. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true is yes, false if not. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00643">643</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9e01335ffedd8bdaa47f61d53045bbbd"></a><!-- doxytag: member="TMC262Stepper::isOpenLoadB" ref="a9e01335ffedd8bdaa47f61d53045bbbd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="class_t_m_c262_stepper.html#a9e01335ffedd8bdaa47f61d53045bbbd">TMC262Stepper::isOpenLoadB</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>iIs motor channel A connected according to the last statu readout. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true is yes, false if not. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00651">651</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a30f48c95d93fbfeacde56e3eef0b3ac4"></a><!-- doxytag: member="TMC262Stepper::isShortToGroundA" ref="a30f48c95d93fbfeacde56e3eef0b3ac4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="class_t_m_c262_stepper.html#a30f48c95d93fbfeacde56e3eef0b3ac4">TMC262Stepper::isShortToGroundA</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is motor channel A shorted to ground detected in the last status readout. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true is yes, false if not. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00627">627</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a61e724b8aeb4d6f1cb9c15b7b098e2b2"></a><!-- doxytag: member="TMC262Stepper::isShortToGroundB" ref="a61e724b8aeb4d6f1cb9c15b7b098e2b2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="class_t_m_c262_stepper.html#a61e724b8aeb4d6f1cb9c15b7b098e2b2">TMC262Stepper::isShortToGroundB</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is motor channel B shorted to ground detected in the last status readout. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true is yes, false if not. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00635">635</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7c43cd156a36f53d192e1b07df3464c8"></a><!-- doxytag: member="TMC262Stepper::isStallGuardOverTreshold" ref="a7c43cd156a36f53d192e1b07df3464c8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="class_t_m_c262_stepper.html#a7c43cd156a36f53d192e1b07df3464c8">TMC262Stepper::isStallGuardOverTreshold</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>checks if there is a Stall Guard warning in the last status </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if there was no warning, -1 if there was some warning. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_m_c262_stepper.html#a17f960c4177a5e3ec496eb12370f6e3e" title="set the Stall Guard treshold in order to get sensible Stall Guard readings.">setStallGuardTreshold()</a> for tuning the readout to sensible ranges. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00600">600</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2e520834597aa78af6224e2bc7f89387"></a><!-- doxytag: member="TMC262Stepper::isStallGuardReached" ref="a2e520834597aa78af6224e2bc7f89387" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="class_t_m_c262_stepper.html#a2e520834597aa78af6224e2bc7f89387">TMC262Stepper::isStallGuardReached</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>checks if there is a Stall Guard warning in the last status </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if there was no warning, -1 if there was some warning. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_m_c262_stepper.html#a7c43cd156a36f53d192e1b07df3464c8" title="checks if there is a Stall Guard warning in the last status">isStallGuardOverTreshold()</a> TODO why?</dd>
<dd>
<a class="el" href="class_t_m_c262_stepper.html#a17f960c4177a5e3ec496eb12370f6e3e" title="set the Stall Guard treshold in order to get sensible Stall Guard readings.">setStallGuardTreshold()</a> for tuning the readout to sensible ranges. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00667">667</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a566f37aee32e83423db0bdddc007ca94"></a><!-- doxytag: member="TMC262Stepper::isStandStill" ref="a566f37aee32e83423db0bdddc007ca94" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="class_t_m_c262_stepper.html#a566f37aee32e83423db0bdddc007ca94">TMC262Stepper::isStandStill</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is chopper inactive since 2^20 clock cycles - defaults to ~0,08s. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true is yes, false if not. Keep in mind that this method does not enforce a readout but uses the value of the last status readout. You may want to use <a class="el" href="class_t_m_c262_stepper.html#a6957b84f7a3941e2a82fe72251dd9704" title="Get the current microstep position for phase A.">getMotorPosition()</a> or <a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to enforce an updated status readout. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00659">659</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a552c0e80a6e113ae1a09a1d00b985788"></a><!-- doxytag: member="TMC262Stepper::move" ref="a552c0e80a6e113ae1a09a1d00b985788" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="class_t_m_c262_stepper.html#a552c0e80a6e113ae1a09a1d00b985788">TMC262Stepper::move</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Central movement method, must be calleda s often as possible in the lopp function and is very fast. </p>
<p>This routine checks if the motor still has to move, if the waiting delay has passed to send a new step command to the motor and manages the number of steps yet to move to fulfill the current move command.</p>
<p>This function is implemented to be as fast as possible to call it as often as possible in your loop routine. The more regurlarly you call this function the better. In both senses of 'regularly': Calling it as often as possible is not a bad idea and if you even manage that the intervals you call this function are not too irregular helps too.</p>
<p>You can call this routine even if you know that the motor is not miving. It introduces just a very small penalty in your code. You must not call <a class="el" href="class_t_m_c262_stepper.html#a34e0adcdc4dbf6613dc7d2ed41fc654b" title="checks if the motor still has to move to fulfill the last movement command.">isMoving()</a> to determine if you need to call this function, since taht is done internally already and only slows down you code.</p>
<p>How often you call this function directly influences your top miving speed for the motor. It may be a good idea to call this from an timer overflow interrupt to ensure proper calling. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00215">215</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adffec7e10088a1aa5b7ab7b1c942d57f"></a><!-- doxytag: member="TMC262Stepper::setConstantOffTimeChopper" ref="adffec7e10088a1aa5b7ab7b1c942d57f" args="(char constant_off_time, char blank_time, char fast_decay_time_setting, char sine_wave_offset, unsigned char use_current_comparator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#adffec7e10088a1aa5b7ab7b1c942d57f">TMC262Stepper::setConstantOffTimeChopper</a> </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>constant_off_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>blank_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>fast_decay_time_setting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>sine_wave_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>use_current_comparator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets and configure the classical Constant Off Timer Chopper. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">constant_off_time</td><td>The off time setting controls the minimum chopper frequency. For most applications an off time within the range of 5μs to 20μs will fit. Setting this parameter to zero completely disables all driver transistors and the motor can free-wheel. 0: chopper off, 1:15: off time setting (1 will work with minimum blank time of 24 clocks) </td></tr>
    <tr><td class="paramname">blank_time</td><td>Selects the comparator blank time. This time needs to safely cover the switching event and the duration of the ringing on the sense resistor. For most low current drivers, a setting of 1 or 2 is good. For high current applications with large MOSFETs, a setting of 2 or 3 will be required. 0 (min setting) … (3) amx setting </td></tr>
    <tr><td class="paramname">fast_decay_time_setting</td><td>Fast decay time setting. Controls the portion of fast decay for each chopper cycle. 0: slow decay only, 1…15: duration of fast decay phase </td></tr>
    <tr><td class="paramname">sine_wave_offset</td><td>Sine wave offset. Controls the sine wave offset. A positive offset corrects for zero crossing error. -3…-1: negative offset, 0: no offset,1…12: positive offset </td></tr>
    <tr><td class="paramname">use_curreent_comparator</td><td>Selects usage of the current comparator for termination of the fast decay cycle. If current comparator is enabled, it terminates the fast decay cycle in case the current reaches a higher negative value than the actual positive value. (0 disable, -1 enable).</td></tr>
  </table>
  </dd>
</dl>
<p>The classic constant off time chopper uses a fixed portion of fast decay following each on phase. While the duration of the on time is determined by the chopper comparator, the fast decay time needs to be set by the user in a way, that the current decay is enough for the driver to be able to follow the falling slope of the sine wave, and on the other hand it should not be too long, in order to minimize motor current ripple and power dissipation. This best can be tuned using an oscilloscope or trying out motor smoothness at different velocities. A good starting value is a fast decay time setting similar to the slow decay time setting. After tuning of the fast decay time, the offset should be determined, in order to have a smooth zero transition. This is necessary, because the fast decay phase leads to the absolute value of the motor current being lower than the target current (see figure 17). If the zero offset is too low, the motor stands still for a short moment during current zero crossing, if it is set too high, it makes a larger microstep. Typically, a positive offset setting is required for optimum operation.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>setSpreadCycleChoper() for other alternatives. </dd>
<dd>
<a class="el" href="class_t_m_c262_stepper.html#a3528268d956f800eaaa78e5f053af2ca" title="Use random off time for noise reduction (0 for off, -1 for on).">setRandomOffTime()</a> for spreading the noise over a wider spectrum </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00401">401</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab8f4c5c7d4d40ba2b60573f17162dcc0"></a><!-- doxytag: member="TMC262Stepper::setCurrent" ref="ab8f4c5c7d4d40ba2b60573f17162dcc0" args="(unsigned int current)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#ab8f4c5c7d4d40ba2b60573f17162dcc0">TMC262Stepper::setCurrent</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>current</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set the maximum motor current in mA </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">current</td><td>the maximum RMS motor current in mA </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00258">258</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac1d294ce18d722c3b4c3f6c5ecaa3c7c"></a><!-- doxytag: member="TMC262Stepper::setMicrosteps" ref="ac1d294ce18d722c3b4c3f6c5ecaa3c7c" args="(int number_of_steps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#ac1d294ce18d722c3b4c3f6c5ecaa3c7c">TMC262Stepper::setMicrosteps</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number_of_steps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the number of microsteps in 2^i values (rounded) up to 256. </p>
<p>This method set's the number of microsteps per step in 2^i interval. This means you can select 1, 2, 4, 16, 32, 64, 128 or 256 as valid microsteps. If you give any other value it will be rounded to the next smaller number (3 would give a microstepping of 2). You can always check the current microstepping with <a class="el" href="class_t_m_c262_stepper.html#a96a370ce2e5d055a19cf4bf57ad2ea45" title="returns the effective current number of microsteps selected.">getMicrosteps()</a>. TODO unsingend char maybe enough </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00324">324</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3528268d956f800eaaa78e5f053af2ca"></a><!-- doxytag: member="TMC262Stepper::setRandomOffTime" ref="a3528268d956f800eaaa78e5f053af2ca" args="(char value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#a3528268d956f800eaaa78e5f053af2ca">TMC262Stepper::setRandomOffTime</a> </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Use random off time for noise reduction (0 for off, -1 for on). </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>0 for off, -1 for on</td></tr>
  </table>
  </dd>
</dl>
<p>In a constant off time chopper scheme both coil choppers run freely, i.e. are not synchronized. The frequency of each chopper mainly depends on the coil current and the position dependant motor coil inductivity, thus it depends on the microstep position. With some motors a slightly audible beat can occur between the chopper frequencies, especially when they are near to each other. This typically occurs at a few microstep positions within each quarter wave. This effect normally is not audible when compared to mechanical noise generated by ball bearings, etc. Further factors which can cause a similar effect are a poor layout of sense resistor GND connection. In order to minimize the effect of a beat between both chopper frequencies, an internal random generator is provided. It modulates the slow decay time setting when switched on. The random off time feature further spreads the chopper spectrum, reducing electromagnetic emission on single frequencies. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00548">548</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4ee30d0fddcfcd2de542837861c46d4a"></a><!-- doxytag: member="TMC262Stepper::setSpeed" ref="a4ee30d0fddcfcd2de542837861c46d4a" args="(long whatSpeed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#a4ee30d0fddcfcd2de542837861c46d4a">TMC262Stepper::setSpeed</a> </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>whatSpeed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the rotation speed in revolutions per minute. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">whatSpeed</td><td>the desired speed in rotations per minute. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00188">188</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a109f08f1786742beb7002220c7e2101b"></a><!-- doxytag: member="TMC262Stepper::setSpreadCycleChopper" ref="a109f08f1786742beb7002220c7e2101b" args="(char constant_off_time, char blank_time, char hysteresis_start, char hysteresis_end, char hysteresis_decrement)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#a109f08f1786742beb7002220c7e2101b">TMC262Stepper::setSpreadCycleChopper</a> </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>constant_off_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>blank_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>hysteresis_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>hysteresis_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>hysteresis_decrement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets and configures with spread cycle chopper. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">constant_off_time</td><td>The off time setting controls the minimum chopper frequency. For most applications an off time within the range of 5μs to 20μs will fit. Setting this parameter to zero completely disables all driver transistors and the motor can free-wheel. 0: chopper off, 1:15: off time setting (1 will work with minimum blank time of 24 clocks) </td></tr>
    <tr><td class="paramname">blank_time</td><td>Selects the comparator blank time. This time needs to safely cover the switching event and the duration of the ringing on the sense resistor. For most low current drivers, a setting of 1 or 2 is good. For high current applications with large MOSFETs, a setting of 2 or 3 will be required. 0 (min setting) … (3) amx setting </td></tr>
    <tr><td class="paramname">hysteresis_start</td><td>Hysteresis start setting. Please remark, that this value is an offset to the hysteresis end value. 1 … 8 </td></tr>
    <tr><td class="paramname">hysteresis_end</td><td>Hysteresis end setting. Sets the hysteresis end value after a number of decrements. Decrement interval time is controlled by hysteresis_decrement. The sum hysteresis_start + hysteresis_end must be &lt;16. At a current setting CS of max. 30 (amplitude reduced to 240), the sum is not limited. </td></tr>
    <tr><td class="paramname">hysteresis_decrement</td><td>Hysteresis decrement setting. This setting determines the slope of the hysteresis during on time and during fast decay time. 0 (fast decrement) … 3 (slow decrement).</td></tr>
  </table>
  </dd>
</dl>
<p>The spreadCycle chopper scheme (pat.fil.) is a precise and simple to use chopper principle, which automatically determines the optimum fast decay portion for the motor. Anyhow, a number of settings can be made in order to optimally fit the driver to the motor. Each chopper cycle is comprised of an on-phase, a slow decay phase, a fast decay phase and a second slow decay phase. The slow decay phases limit the maximum chopper frequency and are important for low motor and driver power dissipation. The hysteresis start setting limits the chopper frequency by forcing the driver to introduce a minimum amount of current ripple into the motor coils. The motor inductivity determines the ability to follow a changing motor current. The duration of the on- and fast decay phase needs to cover at least the blank time, because the current comparator is disabled during this time.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_m_c262_stepper.html#a3528268d956f800eaaa78e5f053af2ca" title="Use random off time for noise reduction (0 for off, -1 for on).">setRandomOffTime()</a> for spreading the noise over a wider spectrum </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00478">478</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a17f960c4177a5e3ec496eb12370f6e3e"></a><!-- doxytag: member="TMC262Stepper::setStallGuardTreshold" ref="a17f960c4177a5e3ec496eb12370f6e3e" args="(int stall_guard_treshold, char stall_guard_filter_enabled)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#a17f960c4177a5e3ec496eb12370f6e3e">TMC262Stepper::setStallGuardTreshold</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stall_guard_treshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>stall_guard_filter_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set the Stall Guard treshold in order to get sensible Stall Guard readings. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stall_guard_treshold</td><td>-64 … 64 the stall guard treshold </td></tr>
    <tr><td class="paramname">stall_guard_filter_enabled</td><td>0 if the filter is disabled, -1 if it is enabled</td></tr>
  </table>
  </dd>
</dl>
<p>The stall guard treshold is used to optimize the stall guard reading to sensible values. It should be at 0 at the maximum allowable load on the otor (but not before). = is a good starting point (and the default) If you get Stall Gaurd readings of 0 without any load or with too little laod increase the value. If you get readings of 1023 even with load decrease the setting.</p>
<p>If you switch on the filter the stall guard reading is only updated each 4th full step to reduce the noise in the reading.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_m_c262_stepper.html#a7871e8851d90acaac372a90354508a2b" title="Reads the current stall guard value.">getCurrentStallGuardReading()</a> to read out the current value. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00295">295</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3ed2f641b0ce1abd2e0704a0e6078386"></a><!-- doxytag: member="TMC262Stepper::start" ref="a3ed2f641b0ce1abd2e0704a0e6078386" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_m_c262_stepper.html#a3ed2f641b0ce1abd2e0704a0e6078386">TMC262Stepper::start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>configures and starts the TMC262 stepper driver. Before you called this function the stepper driver is in nonfunctional mode. </p>
<p>This routine configures the TMC262 stepper driver for the given values via SPI. Most member functions are non functional if the driver has not been started. Therefore it is best to call this in your Arduinosetup() function. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00146">146</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a37dff68892cdc4c3d33d2a89da84b717"></a><!-- doxytag: member="TMC262Stepper::step" ref="a37dff68892cdc4c3d33d2a89da84b717" args="(int number_of_steps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="class_t_m_c262_stepper.html#a37dff68892cdc4c3d33d2a89da84b717">TMC262Stepper::step</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number_of_steps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initiate a movement for the given number of steps. Positive numbers move in one, negative numbers in the other direction. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">number_of_steps</td><td>The number of steps to move the motor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the motor was not moving and moves now. -1 if the motor is moving and the new steps could not be set.</dd></dl>
<p>If the previous movement is not finished yet the function will return -1 and not change the steps to move the motor. If the motor does not move it return 0</p>
<p>You can always verify with <a class="el" href="class_t_m_c262_stepper.html#a34e0adcdc4dbf6613dc7d2ed41fc654b" title="checks if the motor still has to move to fulfill the last movement command.">isMoving()</a> or even use <a class="el" href="class_t_m_c262_stepper.html#a1c0498cd73fc3a798a230dc8cefa04dd" title="Stops the motor regardless if it moves or not.">stop()</a> to stop the motor before gibving it new step directions. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_m_c262_stepper.html#a34e0adcdc4dbf6613dc7d2ed41fc654b" title="checks if the motor still has to move to fulfill the last movement command.">isMoving()</a>, <a class="el" href="class_t_m_c262_stepper.html#ae96c33de0cca9700f8abe44a7c618519" title="Get the number of steps left in the current movement.">getStepsLeft()</a>, <a class="el" href="class_t_m_c262_stepper.html#a1c0498cd73fc3a798a230dc8cefa04dd" title="Stops the motor regardless if it moves or not.">stop()</a> </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00198">198</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1c0498cd73fc3a798a230dc8cefa04dd"></a><!-- doxytag: member="TMC262Stepper::stop" ref="a1c0498cd73fc3a798a230dc8cefa04dd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="class_t_m_c262_stepper.html#a1c0498cd73fc3a798a230dc8cefa04dd">TMC262Stepper::stop</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stops the motor regardless if it moves or not. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if the motor was moving and is really stoped or 0 if it was not moving at all.</dd></dl>
<p>This method directly and apruptely stops the motor and may be used as an emergency stop. </p>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00248">248</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0514e8d8143463a8b5afca76b419a52d"></a><!-- doxytag: member="TMC262Stepper::version" ref="a0514e8d8143463a8b5afca76b419a52d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_t_m_c262_stepper.html#a0514e8d8143463a8b5afca76b419a52d">TMC262Stepper::version</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>library version </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the version number as int. </dd></dl>

<p>Definition at line <a class="el" href="_t_m_c262_stepper_8cpp_source.html#l00683">683</a> of file <a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_t_m_c262_stepper_8h_source.html">TMC262Stepper.h</a></li>
<li><a class="el" href="_t_m_c262_stepper_8cpp_source.html">TMC262Stepper.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 9 2012 12:16:38 for TMC26X Stepper Driver for Arduino by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
